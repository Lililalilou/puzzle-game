webpackJsonp([0],[,,,function(t,n,r){"use strict";var e=r(21);n.a={components:{Grid:e.a}}},function(t,n,r){"use strict";var e=r(23),o=r(26),i=r(6),s=r(29),c=0;n.a={components:{Tile:e.a,Counter:o.a},data:function(){for(var t=[],n=0;n<i.b;n+=1)for(var r=0;r<i.b;r+=1)t.push({key:c++,coords:new s.a(n,r),color:Math.floor(Math.random()*i.a)});return{grid:t,currentCoords:null,nbPoints:0}},mounted:function(){var t=this;setTimeout(function(){return t.removeCombo()},200)},methods:{selectTile:function(t){var n=this;if(this.currentCoords)if(t.equal(this.currentCoords))this.currentCoords=null;else if(t.near(this.currentCoords)){var r=this.getTileAt(this.currentCoords),e=this.getTileAt(t);r.coords=t,e.coords=this.currentCoords,this.currentCoords=null,setTimeout(function(){return n.removeCombo()},200)}else this.currentCoords=t;else this.currentCoords=t},getTileAt:function(t){var n=null;return this.grid.forEach(function(r){r.coords.equal(t)&&(n=r)}),n},removeCombo:function(){for(var t=this,n=[],r=0;r<i.b;r+=1)for(var e=null,o=[],c=0;c<i.b;c+=1){var u=this.getTileAt(new s.a(c,r));e===u.color&&o.push(u),e===u.color&&c!==i.b-1||(o.length>=3&&(this.addPoints(o.length),o.forEach(function(t){n.find(function(n){return n.coords.equal(t.coords)})||n.push(t)})),o=[u],e=u.color)}for(var a=0;a<i.b;a+=1)for(var l=null,f=[],d=0;d<i.b;d+=1){var h=this.getTileAt(new s.a(a,d));l===h.color&&f.push(h),l===h.color&&d!==i.b-1||(f.length>=3&&(this.addPoints(f.length),f.forEach(function(t){n.find(function(n){return n.coords.equal(t.coords)})||n.push(t)})),f=[h],l=h.color)}n.length&&(n.forEach(function(n){t.grid.splice(t.grid.indexOf(n),1)}),setTimeout(function(){return t.resolve()},200))},resolve:function(){var t=this;this.grid.forEach(function(n){for(var r=0,e=0;e<=n.coords.y;e+=1)null===t.getTileAt(new s.a(n.coords.x,e))&&(r+=1);r&&n.coords.set(n.coords.x,n.coords.y-r)}),setTimeout(function(){return t.spawn()},200)},spawn:function(){for(var t=this,n=0;n<i.b;n+=1)for(var r=0;r<i.b;r+=1)this.getTileAt(new s.a(n,r))||this.grid.push({key:c++,coords:new s.a(n,r),color:Math.floor(Math.random()*i.a)});setTimeout(function(){return t.removeCombo()},200)},addPoints:function(t){this.nbPoints+=t,4===t?this.nbPoints+=5:5===t&&(this.nbPoints+=10)}}}},function(t,n,r){"use strict";function e(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}r(6);n.a={props:["name","coords","color","selectTile","currentCoords"],computed:{styleObject:function(){return{bottom:50*this.coords.y+"px",left:50*this.coords.x+"px"}},classObject:function(){return null!==this.currentCoords?e({selected:this.currentCoords.equal(this.coords)},"type-"+this.color,!0):e({},"type-"+this.color,!0)}},methods:{handleClick:function(){this.selectTile(this.coords)}}}},function(t,n,r){"use strict";r.d(n,"b",function(){return e}),r.d(n,"a",function(){return o});var e=8,o=6},function(t,n,r){"use strict";n.a={props:["nbPoints"]}},function(t,n,r){r(9),r(11),t.exports=r(16)},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(10),o=r.n(e);o.a.install({onUpdateReady:function(){o.a.applyUpdate()}})},,function(t,n,r){window.Promise||(window.Promise=r(12)),Object.assign=r(15)},,,,,function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(17),o=r(18);e.a.config.productionTip=!1,new e.a({el:"#app",render:function(t){return t(o.a)}})},,function(t,n,r){"use strict";function e(t){r(19),r(20)}var o=r(3),i=r(31),s=r(0),c=e,u=s(o.a,i.a,!1,c,null,null);n.a=u.exports},,function(t,n){},function(t,n,r){"use strict";function e(t){r(22)}var o=r(4),i=r(30),s=r(0),c=e,u=s(o.a,i.a,!1,c,null,null);n.a=u.exports},function(t,n){},function(t,n,r){"use strict";function e(t){r(24)}var o=r(5),i=r(25),s=r(0),c=e,u=s(o.a,i.a,!1,c,null,null);n.a=u.exports},function(t,n){},function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticClass:"tile",class:t.classObject,style:t.styleObject,on:{click:t.handleClick}})},o=[],i={render:e,staticRenderFns:o};n.a=i},function(t,n,r){"use strict";function e(t){r(27)}var o=r(7),i=r(28),s=r(0),c=e,u=s(o.a,i.a,!1,c,null,null);n.a=u.exports},function(t,n){},function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("p",[t._v("Score : "+t._s(t.nbPoints))])])},o=[],i={render:e,staticRenderFns:o};n.a=i},function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.d(n,"a",function(){return i});var o=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=function(){function t(n,r){e(this,t),this.x=n,this.y=r}return o(t,[{key:"near",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)===1}},{key:"equal",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"set",value:function(t,n){this.x=t,this.y=n}}]),t}()},function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("div",{attrs:{id:"grid"}},t._l(t.grid,function(n){return r("Tile",{key:n.key,attrs:{coords:n.coords,color:n.color,selectTile:t.selectTile,currentCoords:t.currentCoords}})}),1),t._v(" "),r("Counter",{attrs:{nbPoints:t.nbPoints}})],1)},o=[],i={render:e,staticRenderFns:o};n.a=i},function(t,n,r){"use strict";var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"app"}},[r("h1",[t._v("JellyCrush")]),t._v(" "),r("Grid")],1)},o=[],i={render:e,staticRenderFns:o};n.a=i}],[8]);
//# sourceMappingURL=client.c0b035f1.js.map